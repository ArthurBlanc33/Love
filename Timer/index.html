<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Compteur de temps</title>
        <link rel="stylesheet" href="style.css" />
        <link rel="icon" type="image/x-icon" href="hearth.ico" />
        <link rel="manifest" href="manifest.json" />
    </head>
    <body>
    
        <div class="container">
            <h1>On se revoit dans</h1>
            <div id="timer">0 jours</div>
            <div id="loveWord" class="red-text">ma chérie</div>
            <!-- SUPPRIMER le bouton ici -->
            <!-- <button id="toggleButton">Afficher en heures</button> -->
        </div>

        <script>

    const loveWords = [
  "ma chérie",
  "ma princesse",
  "mon trésor",
  "mon cœur",
  "mon amour",
  "mon ange",
  "ma douce",
  "mon soleil",
  "ma belle",
  "ma perle"
];


    const targetDate = new Date(2025, 8, 12); // 12 septembre 2025
    const timerEl = document.getElementById("timer");
    // const button = document.getElementById("toggleButton");

    let currentMode = "days"; // "days" | "hours" | "weeks"

    // Choisir un mot mignon aléatoire UNE SEULE FOIS au chargement
const chosenWord = loveWords[Math.floor(Math.random() * loveWords.length)];
document.getElementById("loveWord").textContent = chosenWord;

const container = document.querySelector('.container');

function updateTimer() {
  const now = new Date();
  const diffMs = targetDate - now;

  if (diffMs <= 0) {
    timerEl.textContent = "C'est aujourd'hui !";
    // On ne cache plus de bouton
    return;
  }

  const diffDays = Math.ceil(diffMs / (1000 * 60 * 60 * 24));
  const diffHours = Math.ceil(diffMs / (1000 * 60 * 60));
  const fullWeeks = Math.floor(diffDays / 7);
  const remainingDays = diffDays % 7;

  let text;
  switch (currentMode) {
    case "days":
      text = diffDays + " jours";
      break;
    case "hours":
      text = diffHours + " heures";
      break;
    case "weeks":
      if (remainingDays === 0) {
        text = `${fullWeeks} semaines`;
      } else {
        text = `${fullWeeks} semaines et ${remainingDays} jour${remainingDays > 1 ? "s" : ""}`;
      }
      break;
  }

  timerEl.textContent = text;
}

container.addEventListener("click", (e) => {
  e.preventDefault();

  if (currentMode === "days") currentMode = "hours";
  else if (currentMode === "hours") currentMode = "weeks";
  else currentMode = "days";

  updateTimer();
});

    updateTimer();
    setInterval(updateTimer, 60000); // mise à jour toutes les minutes

    // --- Particules coeurs ---
const canvas = document.getElementById('hearts-bg');
const ctx = canvas.getContext('2d');
let hearts = [];

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener('resize', resizeCanvas);





  </script>
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("sw.js");
  }
</script>
</body>
</html>
